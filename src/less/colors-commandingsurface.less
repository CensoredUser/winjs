// Copyright (c) Microsoft Corporation.  All Rights Reserved. Licensed under the MIT License. See License.txt in the project root for license information.

#win-commandingsurface {
    .variableDefs(@theme) when not (@theme = highcontrast) {
        .colorDefinitions(@theme);

        /*@accentColorDefaultOpacity: @listSelectRestOpacity;
        @accentColorHoverOpacity: @listSelectHoverOpacity;
        @accentColorActiveOpacity: @listSelectPressOpacity;
        @borderColor: @baseHigh;
        @textColor: @baseHigh;
        @textColorDisabled: @baseLow;
        @textColorActive:  @baseHigh;
        @textColorSelected:  @baseHigh;
        @textColorHover:  @baseHigh;
        @separatorBackgroundColor: @baseMediumMid;
        @appbarBackgroundColor: @chromeMid;
        @appbarBorderColor: @chromeMid;
        @commandHoverBackgroundColor: @listHover;
        @commandActiveBackgroundColor: @listPress;
        @flyoutBorderColor: @accentColor;
        @flyoutBackgroundColor: @altHigh;
        @menuCommandActiveBackgroundColor: @listPress;
        @menuCommandHoverBackgroundColor: @listHover;
        @menuCommandDisabledColor: @baseLow;
        @settingsFlyoutBackgroundColor: @altHigh;
        @settingsFlyoutBorderColor: @accentColor;*/

        @backgroundColor: @chromeMid;
        @textColorActive: @baseHigh;
        @commandFocusBorderColor: @baseHigh;
        @overflowButtonEllipsisHoverColor: @baseHigh;
        @overflowButtonEllipsisColor: @baseHigh;
        @overflowButtonBackground: transparent;
        @overflowButtonActiveBackground: @listPress;
        @overflowAreaBackgroundColor: @chromeMediumMid;
        @overflowAreaCommandHoverBackground: @listHover;
        @overflowAreaCommandActiveBackground: @listPress;
    }
    
    /*.variableDefs(dark) {
        @backgroundColor:rgb(43, 43, 43);
        @textColorActive: rgb(255, 255, 255);
        @commandFocusBorderColor: rgb(255, 255, 255);
        @overflowButtonEllipsisHoverColor: rgb(255, 255, 255);
        @overflowButtonEllipsisColor: rgb(255, 255, 255);
        @overflowButtonBackground: transparent;
        @overflowButtonActiveBackground: rgb(128, 128, 128);
        @overflowAreaCommandHoverBackground: rgb(85, 85, 85);
        @overflowAreaCommandActiveBackground: rgb(128, 128, 128);
    }

    .variableDefs(light) {
        @backgroundColor:rgb(230, 230, 230);
        @textColorActive: rgb(0, 0, 0);
        @commandFocusBorderColor: rgb(0, 0, 0);
        @overflowButtonEllipsisColor: rgb(0, 0, 0);
        @overflowButtonEllipsisHoverColor: rgb(0, 0, 0);
        @overflowButtonBackground: transparent;
        @overflowButtonActiveBackground: rgb(138, 138, 138);
        @overflowAreaCommandHoverBackground: rgb(184, 184, 184);
        @overflowAreaCommandActiveBackground:  rgb(138, 138, 138);
    }*/

    .variableDefs(highcontrast) {
        @backgroundColor:ButtonFace;
        @textColorActive: ButtonFace;
        @commandFocusBorderColor: ButtonText;
        @overflowButtonEllipsisColor: ButtonText;
        @overflowButtonEllipsisHoverColor: HighlightText;
        @overflowButtonBackground: ButtonFace;
        @overflowButtonActiveBackground: Highlight;
        @overflowAreaCommandHoverBackground: Highlight;
        @overflowAreaCommandActiveBackground: ButtonText;
    }

    .stylesForTheme(@theme) {
        &.win-commandingsurface, .win-commandingsurface {

            #win-commandingsurface > .variableDefs(@theme);

            background-color: @backgroundColor;

            button.win-commandingsurface-overflowbutton {
                background-color: @overflowButtonBackground;
                border-color: transparent;

                &:enabled {
                    &:-ms-keyboard-active {
                        // Override intrinsic button element styles
                        background-color: @overflowButtonBackground;
                    }

                    .win-commandingsurface-ellipsis {
                        color: @overflowButtonEllipsisColor;
                    }
                }

                &.win-keyboard:focus {
                    border-color: @commandFocusBorderColor;
                }
            }

            .win-commandingsurface-overflowarea {
                background-color: @overflowAreaBackgroundColor;
            }

            button.win-commandingsurface-overflowbutton.win-commandingsurface-overflowbutton:hover:active {
                background-color: @overflowButtonActiveBackground;
            }

            .win-commandingsurface-overflowarea button:enabled.win-command:hover:active {
                color: @textColorActive;
                background-color: @overflowAreaCommandActiveBackground;
            }
        }
    }

    .stylesForThemeHover(@theme) {
        &.win-commandingsurface, .win-commandingsurface {

            #win-commandingsurface > .variableDefs(@theme);

            button.win-commandingsurface-overflowbutton:hover,
            .win-commandingsurface-overflowarea button.win-command:hover {
                background-color: @overflowAreaCommandHoverBackground;
            }

            button.win-commandingsurface-overflowbutton:hover .win-commandingsurface-ellipsis {
                color: @overflowButtonEllipsisHoverColor;
            }
        }
    }
}

.Colors(@theme) {
    #win-commandingsurface > .stylesForTheme(@theme);
}

.ColorsHover(@theme) {
    #win-commandingsurface > .stylesForThemeHover(@theme);
}

.HighContrast() {
    #win-commandingsurface > .stylesForTheme(highcontrast);
}

.HighContrastHover() {
    #win-commandingsurface > .stylesForThemeHover(highcontrast);
}